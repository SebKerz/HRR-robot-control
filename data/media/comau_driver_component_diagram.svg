<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="812px" preserveAspectRatio="none" style="width:534px;height:812px;background:#FFFFFF;" version="1.1" viewBox="0 0 534 812" width="534px" zoomAndPan="magnify"><defs><filter height="300%" id="fjkpwcek9mb0n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[f7100137981cbca95e221063bab4de72]
cluster cmHW--><polygon fill="#FFFFFF" filter="url(#fjkpwcek9mb0n)" points="16,6,234,6,241,28.2969,473,28.2969,473,444,16,444,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="241" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="212" x="20" y="20.9951">Comau Hardware Interface</text><!--MD5=[fd7dac2faad43e40ffe49d2ad4b1592a]
class base--><rect codeLine="10" fill="#FEFECE" filter="url(#fjkpwcek9mb0n)" height="86.4141" id="base" style="stroke:#A80036;stroke-width:1.5;" width="220" x="32" y="41"/><ellipse cx="47" cy="57" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M47.1094,52.3438 L45.9531,57.4219 L48.2813,57.4219 L47.1094,52.3438 Z M45.625,50.1094 L48.6094,50.1094 L51.9688,62.5 L49.5156,62.5 L48.75,59.4375 L45.4688,59.4375 L44.7188,62.5 L42.2813,62.5 L45.625,50.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="188" x="61" y="61.1543">hardware_interface::RobotHW</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="251" y1="73" y2="73"/><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="251" y1="81" y2="81"/><ellipse cx="43" cy="92" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="52" y="95.2104">virtual read()</text><ellipse cx="43" cy="104.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="52" y="108.0151">update()</text><ellipse cx="43" cy="117.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="52" y="120.8198">virtual write()</text><!--MD5=[4d0ef9bd02de1af9ea680e7ad0bdc03f]
class robotIF--><rect codeLine="15" fill="#FEFECE" filter="url(#fjkpwcek9mb0n)" height="240.0703" id="robotIF" style="stroke:#A80036;stroke-width:1.5;" width="418" x="35" y="188"/><ellipse cx="189.25" cy="204" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M185.1719,199.7656 L185.1719,197.6094 L192.5625,197.6094 L192.5625,199.7656 L190.0938,199.7656 L190.0938,207.8438 L192.5625,207.8438 L192.5625,210 L185.1719,210 L185.1719,207.8438 L187.6406,207.8438 L187.6406,199.7656 L185.1719,199.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="101" x="209.75" y="208.1543">ComauRobotHW</text><line style="stroke:#A80036;stroke-width:1.5;" x1="36" x2="452" y1="220" y2="220"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="195" x="41" y="234.2104">JointStateInterface m_js_interface;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="225" x="41" y="247.0151">CartesianStateInterface m_cs_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="196" x="41" y="259.8198">TP5StateInterface m_tp5_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="41" y="272.6245">DigitalIOStateInterface m_io_s_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="41" y="285.4292">DigitalPinStateInterface m_pin_s_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="45" y="298.2339"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="206" x="41" y="311.0386">PositionJointInterface m_pj_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="316" x="41" y="323.8433">SensorTrackingCommandInterface m_sns_trk_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="381" x="41" y="336.6479">SensorTrackingPoseCommandInterface m_sns_trk_bullet_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="298" x="41" y="349.4526">JointTrajectoryCommandInterface m_jnt_trj_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="344" x="41" y="362.2573">CartesianTrajectoryCommandInterface m_cart_traj_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="406" x="41" y="375.062">CartesianPoseTrajectoryCommandInterface m_cart_pose_traj_interface</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="266" x="41" y="387.8667">DigitalPinCommandInterface m_pin_c_interface</text><line style="stroke:#A80036;stroke-width:1.5;" x1="36" x2="452" y1="394.4609" y2="394.4609"/><ellipse cx="46" cy="405.4609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="55" y="408.6714">read()</text><ellipse cx="46" cy="418.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="55" y="421.4761">write()</text><!--MD5=[6038825c87d185e630bae6934cf34074]
class cloop--><rect codeLine="33" fill="#FEFECE" filter="url(#fjkpwcek9mb0n)" height="73.6094" id="cloop" style="stroke:#A80036;stroke-width:1.5;" width="170" x="287" y="47"/><ellipse cx="302" cy="63" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M304.9688,68.6406 Q304.3906,68.9375 303.75,69.0781 Q303.1094,69.2344 302.4063,69.2344 Q299.9063,69.2344 298.5781,67.5938 Q297.2656,65.9375 297.2656,62.8125 Q297.2656,59.6875 298.5781,58.0313 Q299.9063,56.375 302.4063,56.375 Q303.1094,56.375 303.75,56.5313 Q304.4063,56.6875 304.9688,56.9844 L304.9688,59.7031 Q304.3438,59.125 303.75,58.8594 Q303.1563,58.5781 302.5313,58.5781 Q301.1875,58.5781 300.5,59.6563 Q299.8125,60.7188 299.8125,62.8125 Q299.8125,64.9063 300.5,65.9844 Q301.1875,67.0469 302.5313,67.0469 Q303.1563,67.0469 303.75,66.7813 Q304.3438,66.5 304.9688,65.9219 L304.9688,68.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="316" y="67.1543">ComauHWControlLoop</text><line style="stroke:#A80036;stroke-width:1.5;" x1="288" x2="456" y1="79" y2="79"/><line style="stroke:#A80036;stroke-width:1.5;" x1="288" x2="456" y1="87" y2="87"/><ellipse cx="298" cy="98" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="27" x="307" y="101.2104">run()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="295" y="107.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="307" y="114.0151">update()</text><!--MD5=[3b19de40d1059037de221a325d793aa6]
class crobot--><rect codeLine="42" fill="#FEFECE" filter="url(#fjkpwcek9mb0n)" height="291.2891" id="crobot" style="stroke:#A80036;stroke-width:1.5;" width="209" x="139.5" y="507"/><ellipse cx="199.75" cy="523" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M202.7188,528.6406 Q202.1406,528.9375 201.5,529.0781 Q200.8594,529.2344 200.1563,529.2344 Q197.6563,529.2344 196.3281,527.5938 Q195.0156,525.9375 195.0156,522.8125 Q195.0156,519.6875 196.3281,518.0313 Q197.6563,516.375 200.1563,516.375 Q200.8594,516.375 201.5,516.5313 Q202.1563,516.6875 202.7188,516.9844 L202.7188,519.7031 Q202.0938,519.125 201.5,518.8594 Q200.9063,518.5781 200.2813,518.5781 Q198.9375,518.5781 198.25,519.6563 Q197.5625,520.7188 197.5625,522.8125 Q197.5625,524.9063 198.25,525.9844 Q198.9375,527.0469 200.2813,527.0469 Q200.9063,527.0469 201.5,526.7813 Q202.0938,526.5 202.7188,525.9219 L202.7188,528.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="220.25" y="527.1543">ComauRobot</text><line style="stroke:#A80036;stroke-width:1.5;" x1="140.5" x2="347.5" y1="539" y2="539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="170" x="145.5" y="553.2104">StateClient m_state_client_ptr</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="173" x="145.5" y="566.0151">RobotClient m_robot_client_ptr</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="145.5" y="578.8198">RobotClient m_arm_client_ptr</text><line style="stroke:#A80036;stroke-width:1.5;" x1="140.5" x2="347.5" y1="585.4141" y2="585.4141"/><ellipse cx="150.5" cy="596.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="159.5" y="599.6245">getMoveFlyParams()</text><ellipse cx="150.5" cy="609.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="159.5" y="612.4292">getDINPins()</text><ellipse cx="150.5" cy="622.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="159.5" y="625.2339">getDOUTPins()</text><ellipse cx="150.5" cy="634.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="159.5" y="638.0386">getRobotData()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="163.5" y="650.8433"/><ellipse cx="150.5" cy="660.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="159.5" y="663.6479">initializePDL()</text><ellipse cx="150.5" cy="673.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="159.5" y="676.4526">resetPDL()</text><ellipse cx="150.5" cy="686.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="56" x="159.5" y="689.2573">startPDL()</text><ellipse cx="150.5" cy="698.8516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="159.5" y="702.062">terminatePDL()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="163.5" y="714.8667"/><ellipse cx="150.5" cy="724.4609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="159.5" y="727.6714">setMoveflyParams()</text><ellipse cx="150.5" cy="737.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="159.5" y="740.4761">setDOUT()</text><ellipse cx="150.5" cy="750.0703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="159.5" y="753.2808">setSensorParams()</text><ellipse cx="150.5" cy="762.875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="159.5" y="766.0854">writeJointCommand()</text><ellipse cx="150.5" cy="775.6797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="159.5" y="778.8901">writeMoveFlyCommand()</text><ellipse cx="150.5" cy="788.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="159.5" y="791.6948">writeSensorTrackingCommand()</text><!--MD5=[6bbfc8b33aaaba05593c8215fb22ef3e]
link base to robotIF--><path codeLine="37" d="M167.68,140.88 C172.46,151.29 177.63,162.56 182.97,174.16 " fill="none" id="base-robotIF" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="189.28,187.9,189.1639,178.0518,187.1956,183.3552,181.8922,181.3869,189.28,187.9" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="187.1956" x2="183.015" y1="183.3552" y2="174.27"/><ellipse cx="164.648" cy="134.2904" fill="#FFFFFF" rx="8" ry="8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="167.9859" x2="161.31" y1="141.5607" y2="127.02"/><line style="stroke:#A80036;stroke-width:1.0;" x1="157.3776" x2="171.9183" y1="137.6283" y2="130.9524"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="76.8004" y="147.431">inherits from</text><!--MD5=[44cac69da8b56c9f9b2576e17cad475f]
reverse link cloop to robotIF--><path codeLine="38" d="M348.59,125.6 C338.31,143.43 325.65,165.39 312.73,187.79 " fill="none" id="cloop-backto-robotIF" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="351.15,121.16,343.185,126.953,348.6493,125.4897,350.1126,130.9541,351.15,121.16" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8e902aa8b3fde59df4d7824149dd8797]
link robotIF to crobot--><path codeLine="65" d="M244,433.39 C244,455.61 244,478.97 244,501.81 " fill="none" id="robotIF-crobot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="244,506.98,248,497.98,244,501.98,240,497.98,244,506.98" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="244,428.31,240,437.31,244,433.31,248,437.31,244,428.31" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="245" y="473.0669">read / write values from / to R1C control-unit</text><!--MD5=[1c670038023255cbe816a930b0d2aed1]
@startuml comau_driver_component_diagram
skinparam componentStyle uml2
allow_mixing
skinparam defaultTextAlignment center

'   left to right direction


package "Comau Hardware Interface" as cmHW <<Folder>> {
  abstract class  "hardware_interface::RobotHW" as base{
      +virtual read()
      +update()
      +virtual write()
  }
  interface  "ComauRobotHW" as robotIF{
      JointStateInterface m_js_interface;
      CartesianStateInterface m_cs_interface
      TP5StateInterface m_tp5_interface
      DigitalIOStateInterface m_io_s_interface
      DigitalPinStateInterface m_pin_s_interface

      PositionJointInterface m_pj_interface
      SensorTrackingCommandInterface m_sns_trk_interface
      SensorTrackingPoseCommandInterface m_sns_trk_bullet_interface
      JointTrajectoryCommandInterface m_jnt_trj_interface
      CartesianTrajectoryCommandInterface m_cart_traj_interface
      CartesianPoseTrajectoryCommandInterface m_cart_pose_traj_interface
      DigitalPinCommandInterface m_pin_c_interface

      +read()
      +write()
  }
  class      "ComauHWControlLoop" as cloop{
      +run()
      -update()
  }
  base "inherits from" +- -> robotIF
  robotIF -up-> cloop

}

class "ComauRobot" as crobot{
      StateClient m_state_client_ptr
      RobotClient m_robot_client_ptr
      RobotClient m_arm_client_ptr

      +getMoveFlyParams()
      +getDINPins()
      +getDOUTPins()
      +getRobotData()

      +initializePDL()
      +resetPDL()
      +startPDL()
      +terminatePDL()

      +setMoveflyParams()
      +setDOUT()
      +setSensorParams()
      +writeJointCommand()
      +writeMoveFlyCommand()
      +writeSensorTrackingCommand()
}

robotIF <- -> crobot: read / write values from / to R1C control-unit

@enduml

@startuml comau_driver_component_diagram
skinparam componentStyle uml2
allow_mixing
skinparam defaultTextAlignment center



package "Comau Hardware Interface" as cmHW <<Folder>> {
  abstract class  "hardware_interface::RobotHW" as base{
      +virtual read()
      +update()
      +virtual write()
  }
  interface  "ComauRobotHW" as robotIF{
      JointStateInterface m_js_interface;
      CartesianStateInterface m_cs_interface
      TP5StateInterface m_tp5_interface
      DigitalIOStateInterface m_io_s_interface
      DigitalPinStateInterface m_pin_s_interface

      PositionJointInterface m_pj_interface
      SensorTrackingCommandInterface m_sns_trk_interface
      SensorTrackingPoseCommandInterface m_sns_trk_bullet_interface
      JointTrajectoryCommandInterface m_jnt_trj_interface
      CartesianTrajectoryCommandInterface m_cart_traj_interface
      CartesianPoseTrajectoryCommandInterface m_cart_pose_traj_interface
      DigitalPinCommandInterface m_pin_c_interface

      +read()
      +write()
  }
  class      "ComauHWControlLoop" as cloop{
      +run()
      -update()
  }
  base "inherits from" +- -> robotIF
  robotIF -up-> cloop

}

class "ComauRobot" as crobot{
      StateClient m_state_client_ptr
      RobotClient m_robot_client_ptr
      RobotClient m_arm_client_ptr

      +getMoveFlyParams()
      +getDINPins()
      +getDOUTPins()
      +getRobotData()

      +initializePDL()
      +resetPDL()
      +startPDL()
      +terminatePDL()

      +setMoveflyParams()
      +setDOUT()
      +setSensorParams()
      +writeJointCommand()
      +writeMoveFlyCommand()
      +writeSensorTrackingCommand()
}

robotIF <- -> crobot: read / write values from / to R1C control-unit

@enduml

PlantUML version 1.2022.0(Tue Jan 11 17:16:42 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>